<!DOCTYPE html>
<html>
<link rel = "stylesheet" href = "main.css">
<link rel="shortcut icon" href="treble.png"/>
<title>Cleffer</title>
<body>
  <br></br>
  <br></br>
 <button onclick="myFunction()">
   <div class = "ogButton">
   <h3 class="topLine"> -enter your- </h3>
   <h3 class="bottomLine">NOTES HERE</h3>
   </div>
 </button>

<script>
var musicNotesArray = ["C", "D", "E", "F", "G", "A", "B"];
var imgArray = new Array();
imgArray[0] = new Image();
imgArray[0].src = '0.png';

imgArray[1] = new Image();
imgArray[1].src = '1.png';

imgArray[2] = new Image();
imgArray[2].src = '2.png';

imgArray[3] = new Image();
imgArray[3].src = '3.png';

imgArray[4] = new Image();
imgArray[4].src = '4.png';

imgArray[5] = new Image();
imgArray[5].src = '5.png';

imgArray[6] = new Image();
imgArray[6].src = '6.png';

imgArray[7] = new Image();
imgArray[7].src = '7.png';

imgArray[8] = new Image();
imgArray[8].src = '8.png';

imgArray[9] = new Image();
imgArray[9].src = '9.png';

imgArray[10] = new Image();
imgArray[10].src = '10.png';

imgArray[11] = new Image();
imgArray[11].src = '11.png';

var staffArray = new Array();
staffArray[0] = new Image();
staffArray[0].src = 'treble.png';

staffArray[1] = new Image();
staffArray[1].src = 'bass.png';

function myFunction() {
    var convertedNums;
    var treble;
    var bass;
    var img;
    var input = prompt("Enter Music Notes: ").toUpperCase();
    input = input.trim();
    var inputArray = input.split(" ");
    convertedNums = convertToNums(inputArray);

    document.body.appendChild(staffArray[0]);

    if (inputIsValid(inputArray, musicNotesArray) == true) {
      treble = convertedNums;
      //document.getElementById("treble").innerHTML = "Treble: " + treble; // prints input
      postImages(treble, imgArray);

      linebreak = document.createElement("br");
      document.body.appendChild(linebreak);

      document.body.appendChild(staffArray[1]);
      bass = trebleToBass(convertedNums);
      //document.getElementById("bass").innerHTML = "Bass: " + bass; // prints input
      postImages(bass, imgArray);

    }
    else {
      alert("Please enter valid music notes!");
    }

}

// functions to make sure that input contains musical notes
function arrContainsObj(arr, obj) {
    for (var i = 0; i < arr.length; i++) {
        if (obj == arr[i]) {
           return true;
        }
    }
    return false;
   }

function inputIsValid(inputArray, musicNotesArray) {
    for (var i = 0; i < inputArray.length; i++) {
        if (arrContainsObj(musicNotesArray, inputArray[i]) == false) {
            return false;
        }
    }
    return true;
  }

function convertToNums(inputArray) {
  var output = [];
  for (var i = 0; i < inputArray.length; i++) {
      output.push(musicNotesArray.indexOf(inputArray[i]));
  }
  return output;

}

function trebleToBass(arr) {
 var output = [];
 	for (var i = 0; i < arr.length; i++) {
    	output.push(arr[i] + 5);
    }
    return output;
 }

 function bassToTreble(arr) {
  var output = [];
  	for (var i = 0; i < arr.length; i++) {
     	output.push(arr[i] + 8 - 5); // add an octave and subtract 5
     }
     return output;
  }

 function postImages(convertedNums, imgArray) {
   for (var i = 0; i < convertedNums.length; i++) {
     document.body.appendChild(imgArray[convertedNums[i]].cloneNode(true));
   }
 }

</script>
</body>
</html>
